<polymer-element name="yrpri-idea" attributes="small idea">
  <template>

    <link rel="stylesheet" href="yrpri-idea.css">

    <div layout horizontal?="{{!small}}" flex>
      <div layout style="vertical-align: top;">
        <div layout horizontal flex>
          <div>
            <img class="category"
                 src="https://s3.amazonaws.com/better-reykjavik-paperclip-production/categories/icons/000/000/{{idea.Category.id | fillIdValue}}/icon_50/{{idea.Category.icon_file_name}}"/>
          </div>
          <div flex class="header">
            <b>{{idea.name | trim | truncate(small ? 60 : 200) }}</b>
          </div>
          <template if="{{!small}}">
            <idea-action-bar idea="{{idea}}" small="{{small}}" style=""></idea-action-bar>
          </template>
        </div>

        <div layout class="description">
          {{idea.description | trim | truncate(small ? 200 : 10000,"...")}}
        </div>
        <template if="{{small}}">
          <idea-action-bar idea="{{idea}}" small="{{small}}" style=""></idea-action-bar>
        </template>
      </div>
    </div>
  </template>

  <script>
    Polymer({
      fillIdValue: function (value) {
        return ('000' + value).substr(-3);
      }
    });
  </script>
</polymer-element>
