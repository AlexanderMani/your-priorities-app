<dom-module id="user-image">
  <link rel="import" type="css" href="user-image.css">
  <template>
    <template is="dom-if" if="{{user.facebook_uid}}">
      <iron-image sizing="cover" title="{{user.login}}" preload="" src="{{computeSrc(user)}}" class$="{{computeClass(small)}}"></iron-image>
    </template>

    <template is="dom-if" if="{{computeIf(user)}}">
      <span>{{user.id}}</span> <span>{{user.buddy_icon_file_name}}</span><br>
    </template>

    <template is="dom-if" if="{{computeIf2(user)}}">
      <iron-image sizing="cover" title="{{user.login}}" preload="" src="{{computeClass2(small)}}" class$="{{computeClass(small)}}"></iron-image>
    </template>
  </template>
  <script>
    Polymer({
      is: 'user-image',
      properties: {
        small: { notify: true },
        user: { notify: true }
      },
      computeIf: function (user) {
        return false && !user.facebook_uid && user.buddy_icon_file_name;
      },
      computeIf2: function (user) {
        return !user.facebook_uid;
      },
      computeClass: function (small) {
        return small ? 'small' : 'small';
      },
      computeSrc: function (user) {
        return 'http://graph.facebook.com/' + user.facebook_uid + '/picture';
      },
      computeClass2: function (small) {
        return small ? 'small' : 'small';
      }
    });
  </script>
</dom-module>
