<link rel="import" href="../../bower_components/polymer/polymer.html">

<script>
  /**
   * @polymerBehavior CommunityBehaviors
   */
  Polymer.CommunityBehaviors = {

    properties: {
      community: {
        type: Object,
        notify: true
      }
    },

    _goToCommunity: function (e) {
      var communityUrl = '/community/' + this.community.id;
      window.appGlobals.activity('open', 'community', communityUrl);
      this.redirectTo(communityUrl);
    },

    communityLogoImagePath: function (community) {
      if (community) {
        return this.getImageFormatUrl(community.CommunityLogoImages, 0);
      }
    },

    communityLogoImageNextPath: function (community) {
      if (community) {
        return this.getImageFormatNextUrl(community.CommunityLogoImages, 0);
      }
    },

    communityHeaderImagePath: function (community) {
      return this.getImageFormatUrl(community.CommunityHeaderImages, 0);
    },

    communityName: function (community, showAll) {
      if (community && community.name) {
        return this.truncate(this.trim(community.name),  showAll ? 300 : 35, '...');
      } else if (community) {
        return community.short_name;
      } else {
        return "";
      }
    },

    communityDescription: function (community, showAll) {
      if (community && community.description) {
        return this.truncate(this.trim(community.description), showAll ? 300 : 120, '...');
      } else {
        return "";
      }
    }
  };
</script>
