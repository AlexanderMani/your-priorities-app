<!DOCTYPE html><html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-more-button/paper-more-button.html">
<link rel="import" href="../paper-styles/paper-styles.html">
<link rel="import" href="paper-search-bar.html">
<link rel="import" href="paper-filter-dialog.html">


</head><body><dom-module id="paper-search-panel">

	<template>
		<style>
			.search {
				border-bottom: 1px solid #eee;
			}

			.noResults {
				padding: 20px;
			}

			.more {
				padding: 10px 0;
				text-align: center;
			}

			.filter-dialog {
				--paper-filter-dialog-background-color: #eee;
				--paper-filter-toolbar-background: var(--paper-grey-200);
				--paper-filter-dialog: {
					margin: 0!important;
				};
				--paper-filter-toolbar: {
					color: var(--paper-grey-900);
				}
			}
		</style>

		<paper-search-bar class="search" icon="[[icon]]" placeholder="[[placeholder]]" hide-filter-button="[[hideFilterButton]]" query="{{search}}" nr-selected-filters="[[_getNrSelectedFilters(selectedFilters)]]" on-paper-search-search="_onSearch" on-paper-search-filter="_onFilter">
		</paper-search-bar>
		<paper-filter-dialog id="filterDialog" class="filter-dialog" filters="[[filters]]" selected-filters="{{selectedFilters}}" reset-button="[[resetButton]]" save-button="[[saveButton]]" no-values-label="[[noValuesLabel]]">
		</paper-filter-dialog>

		<div hidden$="[[!_hasItems]]">
			<content select=":not([fixed])"></content>
		</div>

		<content select="[fixed]"></content>

		<div hidden$="[[!_showNoResults(_hasItems,loading)]]" class="noResults">[[noResultsText]]</div>

		<div class="more" hidden$="[[!hasMore]]">
			<paper-more-button has-more="[[hasMore]]" loading="[[loading]]" on-tap-more="_loadMore">[[moreButton]]</paper-more-button>
		</div>
	</template>
</dom-module>

<script>!function(){Polymer({is:"paper-search-panel",properties:{search:{type:String,observer:"_onChangeRequest",notify:!0},filters:Object,selectedFilters:{type:Object,observer:"_onChangeRequest",notify:!0,value:{}},items:Array,hasMore:Boolean,loading:{type:Boolean,value:!1},hideFilterButton:{type:Boolean,value:!1},count:{type:Number,notify:!0,value:20},icon:{type:String,value:"search"},placeholder:{type:String,value:"Search"},noResultsText:{type:String,value:"No matching results found."},moreButton:{type:String,value:"More"},resetButton:String,saveButton:String,noValuesLabel:String,_hasItems:{type:Boolean,computed:"_computeHasItems(items)",value:!1}},_loadMore:function(){this.count+=20,this._updateData()},_computeHasItems:function(e){return"undefined"!=typeof e&&e.length>0},_showNoResults:function(e,t){return!e&&!t},_onChangeRequest:function(e,t){"undefined"!=typeof t&&(this.count=20,this._updateData())},_updateData:function(){this.fire("change-request-params")},_onFilter:function(){this.$.filterDialog.open()},_onSearch:function(){this.fire("search")},_getNrSelectedFilters:function(e){if(Object.keys(e).length<=0)return 0;var t=Object.keys(e).map(function(t){return e[t].length}).reduce(function(e,t){return e+t});return t}})}();</script>
</body></html>