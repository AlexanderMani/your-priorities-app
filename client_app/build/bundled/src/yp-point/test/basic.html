<!DOCTYPE html><html><head><meta charset="UTF-8"><title>yp-points-actions tests</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <script>if (!window.customElements) { document.write('<!--'); }</script>
    <script type="text/javascript" src="../../../bower_components/webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
<script src="../../../bower_components/webcomponentsjs/webcomponents-lite.js"></script><script src="../../../bower_components/web-component-tester/browser.js"></script><script src="../../../bower_components/test-fixture/test-fixture-mocha.js"></script><link rel="import" href="../../../bower_components/test-fixture/test-fixture.html"><script type="text/javascript" src="../../i18next-1.7.4.min.js"></script><link rel="import" href="../../yp-app-globals/yp-app-globals.html"><link rel="import" href="../yp-point-actions.html"></head><body><yp-app-globals disable-welcome=""></yp-app-globals><test-fixture id="basic"><template is="dom-template"><yp-point-actions point="{{point}}" style="width:300px;"></yp-point-actions></template></test-fixture><script>suite('point quality counted correctly',function(){test('point quality count correct',function(){var a=fixture('basic',{point:{PointQualities:[{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]}}),b=a.point;expect(b.PointQualities).to.be.eql([{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]),expect(a.voteCount(b.PointQualities,'up')).to.be.equal('5'),expect(a.voteCount(b.PointQualities,'down')).to.be.equal('3')}),test('displays counters',function(){var a=fixture('basic',{point:{PointQualities:[{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]}});expect(a.innerHTML).to.include('5'),expect(a.innerHTML).to.include('3')}),test('point up vote dialog is displayed',function(a){var b=fixture('basic',{point:{PointQualities:[{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]}}),c=b.querySelector('.point-up-vote-icon');c.click(),this.async(function(){var b=document.querySelector('#dialog');expect(b.opened).to.be.equal(!0),a()})}),test('point down vote dialog is displayed',function(a){var b=fixture('basic',{point:{PointQualities:[{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]}}),c=b.querySelector('.point-down-vote-icon');c.click(),this.async(function(){var b=document.querySelector('#dialog');expect(b.opened).to.be.equal(!0),a()})})});</script></body></html>