<html><head><link rel="import" href="../../bower_components/polymer/polymer.html?v=6.2.64">

<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html?v=6.2.64">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html?v=6.2.64">
<link rel="import" href="../../bower_components/iron-icons/communication-icons.html?v=6.2.64">
<link rel="import" href="../../bower_components/iron-icons/image-icons.html?v=6.2.64">
<link rel="import" href="../../bower_components/iron-icons/social-icons.html?v=6.2.64">
<link rel="import" href="../../bower_components/iron-image/iron-image.html?v=6.2.64">

<link rel="import" href="../yp-behaviors/app-helpers.html?v=6.2.64">
<link rel="import" href="../yp-user/yp-user-image.html?v=6.2.64">
<link rel="import" href="../yp-point/yp-point-news-story.html?v=6.2.64">

<link rel="import" href="yp-point-news-story-embed.html?v=6.2.64">

</head><body><dom-module id="yp-point-news-story">

  <template>

    <style include="iron-flex iron-flex-alignment">

      :host {
        width: 100%;
        margin-top: 8px;
      }

      .userName {
        color: #777;
      }

      yp-user-image {
        padding-top: 4px;
      }

      .userName {
        padding-bottom: 4px;
      }

      .story {
        margin-left: 32px;
        margin-right: 32px;
        padding-bottom: 4px;
        margin-bottom: 24px;
        border-bottom: solid #ddd;
        border-bottom-width: 1px;
      }

      yp-point-actions {
        padding-top: 8px;
      }

      .container {
        width: 100%;
      }
    </style>

    <div class="layout vertical container">
      <div class="story">
        [[point.content]]
        <yp-point-actions point="[[point]]"></yp-point-actions>
      </div>
      <yp-point-news-story-embed embed-data="[[point.embed_data]]"></yp-point-news-story-embed>
    </div>
  </template>

  <script>
    Polymer({

      is: 'yp-point-news-story',

      properties: {

        point: {
          type: Object,
          notify: true,
          observer: "_pointChanged"
        },

        user: {
          type: Object
        },

        hideUser: {
          type: Boolean,
          value: false
        }
      },

      _pointChanged: function(newValue, oldValue) {
        if (newValue) {
          this.user = this.point.PointRevisions[0].User;
        } else {
          this.user = null;
        }
      },

      loginName: function () {
        return this.point.PointRevisions[0].User.name;
      }
    });
  </script>
</dom-module>
</body></html>