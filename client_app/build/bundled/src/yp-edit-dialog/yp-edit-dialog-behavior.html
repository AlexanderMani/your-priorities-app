<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../yp-behaviors/app-helpers.html">

<script>Polymer.ypEditDialogBehavior={properties:{new:{type:Boolean,value:!0,observer:"_setupNewUpdateState"},editHeaderText:{type:String},saveText:{type:String},toastText:{type:String},params:{type:String},method:{type:String,value:"POST"},refreshFunction:{type:Function,value:null}},listeners:{"iron-form-response":"_formResponse"},_logoImageUploaded:function(e,t){var o=JSON.parse(t.xhr.response);this.set("uploadedLogoImageId",o.id)},_headerImageUploaded:function(e,t){var o=JSON.parse(t.xhr.response);this.set("uploadedHeaderImageId",o.id)},_formResponse:function(e,t){"function"==typeof this._customRedirect&&this._customRedirect(t.response),"function"==typeof this.refreshFunction&&this.refreshFunction(t.response),e&&e.detail&&e.detail.response&&e.detail.response.isError?console.log("Not clearing form because of user error"):this._clear()},_setupNewUpdateState:function(){this.new?(this.saveText=window.i18nTranslation.t("create"),this.method="POST"):(this.saveText=window.i18nTranslation.t("update"),this.method="PUT"),this._setupTranslation()},open:function(e,t){window.appUser&&window.appUser.loggedIn()===!0?(e&&"new"===e?this.new=!0:this.new=!1,t&&(this.params=t),this.$$("#editDialog").open()):window.appUser.loginForEdit(this,e,t)},close:function(){this.$.editDialog.close()}};</script>
</head><body></body></html>