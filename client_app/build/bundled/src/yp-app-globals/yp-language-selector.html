<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-signals/iron-signals.html">
<link rel="import" href="../../bower_components/iron-form-element-behavior/iron-form-element-behavior.html">

<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">

<link rel="import" href="../yp-user/yp-user-info.html">

</head><body><dom-module id="yp-language-selector">

  <template>

    <style include="iron-flex iron-flex-alignment">
    :host {
      margin: 4px;
    }

    </style>
    <iron-signals on-iron-signal-yp-language="_languageEvent"></iron-signals>

    <div class="layout vertical center-center">

    <paper-dropdown-menu label="[[t('selectLanguage')]]" selected="{{selectedLocale}}" attr-for-selected="name">
      <paper-listbox class="dropdown-content" selected="{{selectedLocale}}" attr-for-selected="name">
        <template is="dom-repeat" items="[[languages]]">
          <paper-item name="[[item.language]]">[[item.name]]</paper-item>
        </template>
      </paper-listbox>
    </paper-dropdown-menu>
  </div></template>

  <script>Polymer({is:"yp-language-selector",behaviors:[Polymer.appHelpers,Polymer.IronFormElementBehavior],properties:{supportedLanguages:{type:Object,value:{en:"English",is:"√çslenska",no:"Norwegian",hr:"Croatian",sl:"Slovenian",pt:"Portuguese",pl:"Polish"}},languages:{type:Array,computed:"_languages(supportedLanguages)"},selectedLocale:{type:String,observer:"_selectedLocaleChanged"},noUserEvents:{type:Boolean,value:!1}},_languages:function(e){if(e){var a=[];for(var s in e)e.hasOwnProperty(s)&&a.push({language:s,name:e[s]});return a}return[]},_selectedLocaleChanged:function(e){this.set("value",e),this.noUserEvents||(this.changeLocaleIfNeeded(e,!0),localStorage.setItem("yp-user-locale",e),window.appUser&&window.appUser.user&&window.appUser.setLocale(e))}});</script>
</dom-module>
</body></html>