!function(a,b){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.i18next=b()}(this,function(){"use strict";function q(a){return null==a?"":""+a}function z(a,b,c){a.forEach(function(a){b[a]&&(c[a]=b[a])})}function B(a,b,c){function d(a){return a&&-1<a.indexOf("###")?a.replace(/###/g,"."):a}function f(){return!a||"string"==typeof a}for(var g="string"==typeof b?b.split("."):[].concat(b);1<g.length;){if(f())return{};var h=d(g.shift());!a[h]&&c&&(a[h]=new c),a=a[h]}return f()?{}:{obj:a,k:d(g.shift())}}function D(a,b,c){var d=B(a,b,Object),e=d.obj,f=d.k;e[f]=c}function G(b,c,d,e){var f=B(b,c,Object),g=f.obj,h=f.k;g[h]=g[h]||[],e&&(g[h]=g[h].concat(d)),e||g[h].push(d)}function I(a,b){var c=B(a,b),d=c.obj,e=c.k;if(d)return d[e]}function i(a,b,c){for(var d in b)d in a?"string"==typeof a[d]||a[d]instanceof String||"string"==typeof b[d]||b[d]instanceof String?c&&(a[d]=b[d]):i(a[d],b[d],c):a[d]=b[d];return a}function o(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function a(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return w[a]}):a}function r(a){return a.charAt(0).toUpperCase()+a.slice(1)}function l(){var a={};return E.forEach(function(b){b.lngs.forEach(function(c){a[c]={numbers:b.nr,plurals:K[b.fc]}})}),a}function c(a,b){for(var c=a.indexOf(b);-1!==c;)a.splice(c,1),c=a.indexOf(b)}function p(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(a){return{defaultValue:a[1]}},interpolation:{escapeValue:!0,format:function(a){return a},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function f(a){return"string"==typeof a.ns&&(a.ns=[a.ns]),"string"==typeof a.fallbackLng&&(a.fallbackLng=[a.fallbackLng]),"string"==typeof a.fallbackNS&&(a.fallbackNS=[a.fallbackNS]),a.whitelist&&0>a.whitelist.indexOf("cimode")&&a.whitelist.push("cimode"),a}function g(){}var J="function"==typeof Symbol&&"symbol"==babelHelpers.typeof(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":babelHelpers.typeof(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":babelHelpers.typeof(a)},d=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},h=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},s=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof b?"undefined":babelHelpers.typeof(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},m=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==("undefined"===typeof b?"undefined":babelHelpers.typeof(b))||"function"==typeof b)?b:a},b=function(){function a(b,c){var d,f=[],g=!0,h=!1;try{for(var i,j=b[Symbol.iterator]();!(g=(i=j.next()).done)&&(f.push(i.value),!c||f.length!==c);g=!0);}catch(a){h=!0,d=a}finally{try{!g&&j.return&&j.return()}finally{if(h)throw d}}return f}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},k={type:"logger",log:function(a){this.output("log",a)},warn:function(a){this.output("warn",a)},error:function(a){this.output("error",a)},output:function(a,b){var c;console&&console[a]&&(c=console)[a].apply(c,u(b))}},e=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d(this,a),this.init(b,c)}return a.prototype.init=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=b.prefix||"i18next:",this.logger=a||k,this.options=b,this.debug=b.debug},a.prototype.setDebug=function(a){this.debug=a},a.prototype.log=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.forward(b,"log","",!0)},a.prototype.warn=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.forward(b,"warn","",!0)},a.prototype.error=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.forward(b,"error","")},a.prototype.deprecate=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.forward(b,"warn","WARNING DEPRECATED: ",!0)},a.prototype.forward=function(a,b,c,d){return d&&!this.debug?null:("string"==typeof a[0]&&(a[0]=""+c+this.prefix+" "+a[0]),this.logger[b](a))},a.prototype.create=function(b){return new a(this.logger,h({prefix:this.prefix+":"+b+":"},this.options))},a}(),v=new e,n=function(){function a(){d(this,a),this.observers={}}return a.prototype.on=function(a,b){var c=this;a.split(" ").forEach(function(a){c.observers[a]=c.observers[a]||[],c.observers[a].push(b)})},a.prototype.off=function(a,b){var c=this;this.observers[a]&&this.observers[a].forEach(function(){if(b){var d=c.observers[a].indexOf(b);-1<d&&c.observers[a].splice(d,1)}else delete c.observers[a]})},a.prototype.emit=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(this.observers[a]){var e=[].concat(this.observers[a]);e.forEach(function(a){a.apply(void 0,c)})}if(this.observers["*"]){var f=[].concat(this.observers["*"]);f.forEach(function(b){var d;b.apply(b,(d=[a]).concat.apply(d,c))})}},a}(),w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},x=function(a){function b(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};d(this,b);var f=m(this,a.call(this));return f.data=c||{},f.options=e,f}return s(b,a),b.prototype.addNamespaces=function(a){0>this.options.ns.indexOf(a)&&this.options.ns.push(a)},b.prototype.removeNamespaces=function(a){var b=this.options.ns.indexOf(a);-1<b&&this.options.ns.splice(b,1)},b.prototype.getResource=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},e=d.keySeparator||this.options.keySeparator;void 0===e&&(e=".");var f=[a,b];return c&&"string"!=typeof c&&(f=f.concat(c)),c&&"string"==typeof c&&(f=f.concat(e?c.split(e):c)),-1<a.indexOf(".")&&(f=a.split(".")),I(this.data,f)},b.prototype.addResource=function(b,c,d,e){var f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},g=this.options.keySeparator;void 0===g&&(g=".");var h=[b,c];d&&(h=h.concat(g?d.split(g):d)),-1<b.indexOf(".")&&(h=b.split("."),e=c,c=h[1]),this.addNamespaces(c),D(this.data,h,e),f.silent||this.emit("added",b,c,d,e)},b.prototype.addResources=function(a,b,c){for(var d in c)"string"==typeof c[d]&&this.addResource(a,b,d,c[d],{silent:!0});this.emit("added",a,b,c)},b.prototype.addResourceBundle=function(b,c,d,e,f){var a=[b,c];-1<b.indexOf(".")&&(a=b.split("."),e=d,d=c,c=a[1]),this.addNamespaces(c);var g=I(this.data,a)||{};e?i(g,d,f):g=h({},g,d),D(this.data,a,g),this.emit("added",b,c,d)},b.prototype.removeResourceBundle=function(a,b){this.hasResourceBundle(a,b)&&delete this.data[a][b],this.removeNamespaces(b),this.emit("removed",a,b)},b.prototype.hasResourceBundle=function(a,b){return void 0!==this.getResource(a,b)},b.prototype.getResourceBundle=function(a,b){return b||(b=this.options.defaultNS),"v1"===this.options.compatibilityAPI?h({},this.getResource(a,b)):this.getResource(a,b)},b.prototype.toJSON=function(){return this.data},b}(n),j={processors:{},addPostProcessor:function(a){this.processors[a.name]=a},handle:function(a,b,c,d,e){var f=this;return a.forEach(function(a){f.processors[a]&&(b=f.processors[a].process(b,c,d,e))}),b}},y=function(a){function b(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d(this,b);var f=m(this,a.call(this));return z(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],c,f),f.options=e,f.logger=v.create("translator"),f}return s(b,a),b.prototype.changeLanguage=function(a){a&&(this.language=a)},b.prototype.exists=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},c=this.resolve(a,b);return c&&void 0!==c.res},b.prototype.extractFromKey=function(a,b){var c=b.nsSeparator||this.options.nsSeparator;void 0===c&&(c=":");var d=b.keySeparator||this.options.keySeparator||".",e=b.ns||this.options.defaultNS;if(c&&-1<a.indexOf(c)){var f=a.split(c);(c!==d||c===d&&-1<this.options.ns.indexOf(f[0]))&&(e=f.shift()),a=f.join(d)}return"string"==typeof e&&(e=[e]),{key:a,namespaces:e}},b.prototype.translate=function(d){var q=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("object"!==("undefined"==typeof e?"undefined":J(e))&&(e=this.options.overloadTranslationOptionHandler(arguments)),void 0===d||null===d||""===d)return"";"number"==typeof d&&(d=d+""),"string"==typeof d&&(d=[d]);var v=e.keySeparator||this.options.keySeparator||".",o=this.extractFromKey(d[d.length-1],e),r=o.key,i=o.namespaces,y=i[i.length-1],a=e.lng||this.language,u=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase()){if(u){var l=e.nsSeparator||this.options.nsSeparator;return y+l+r}return r}var c=this.resolve(d,e),p=c&&c.res,z=c&&c.usedKey||r,g=Object.prototype.toString.apply(p),A=void 0===e.joinArrays?this.options.joinArrays:e.joinArrays,B="string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p;if(p&&B&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(g)&&(!A||"[object Array]"!==g)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(z,p,e):"key '"+r+" ("+this.language+")' returned an object instead of string.";if(e.keySeparator||this.options.keySeparator){var b="[object Array]"===g?[]:{};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(b[x]=this.translate(""+z+v+x,h({},e,{joinArrays:!1,ns:i})));p=b}}else if(A&&"[object Array]"===g)p=p.join(A),p&&(p=this.extendTranslation(p,d,e));else{var k=!1,D=!1;this.isValidLookup(p)||void 0===e.defaultValue||(k=!0,p=e.defaultValue),this.isValidLookup(p)||(D=!0,p=r);var w=e.defaultValue&&e.defaultValue!==p&&this.options.updateMissing;if(D||k||w){this.logger.log(w?"updateKey":"missingKey",a,y,r,w?e.defaultValue:p);var E=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var G=0;G<F.length;G++)E.push(F[G]);else"all"===this.options.saveMissingTo?E=this.languageUtils.toResolveHierarchy(e.lng||this.language):E.push(e.lng||this.language);var j=function(a,b){q.options.missingKeyHandler?q.options.missingKeyHandler(a,y,b,w?e.defaultValue:p,w):q.backendConnector&&q.backendConnector.saveMissing&&q.backendConnector.saveMissing(a,y,b,w?e.defaultValue:p,w),q.emit("missingKey",a,y,b,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&e.count?E.forEach(function(a){var b=q.pluralResolver.getPluralFormsOfKey(a,r);b.forEach(function(b){return j([a],b)})}):j(E,r))}p=this.extendTranslation(p,d,e),D&&p===r&&this.options.appendNamespaceToMissingKey&&(p=y+":"+r),D&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p},b.prototype.extendTranslation=function(a,b,c){var d=this;c.interpolation&&this.interpolator.init(h({},c,{interpolation:h({},this.options.interpolation,c.interpolation)}));var e=c.replace&&"string"!=typeof c.replace?c.replace:c;this.options.interpolation.defaultVariables&&(e=h({},this.options.interpolation.defaultVariables,e)),a=this.interpolator.interpolate(a,e,c.lng||this.language),!1!==c.nest&&(a=this.interpolator.nest(a,function(){return d.translate.apply(d,arguments)},c)),c.interpolation&&this.interpolator.reset();var f=c.postProcess||this.options.postProcess,g="string"==typeof f?[f]:f;return void 0!==a&&g&&g.length&&!1!==c.applyPostProcessor&&(a=j.handle(g,a,b,c,this)),a},b.prototype.resolve=function(a){var b,d,f=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof a&&(a=[a]),a.forEach(function(g){if(!f.isValidLookup(b)){var h=f.extractFromKey(g,e),j=h.key;d=j;var i=h.namespaces;f.options.fallbackNS&&(i=i.concat(f.options.fallbackNS));var k=void 0!==e.count&&"string"!=typeof e.count,m=void 0!==e.context&&"string"==typeof e.context&&""!==e.context,a=e.lngs?e.lngs:f.languageUtils.toResolveHierarchy(e.lng||f.language);i.forEach(function(c){f.isValidLookup(b)||a.forEach(function(d){if(!f.isValidLookup(b)){var g,h=j,i=[h];k&&(g=f.pluralResolver.getSuffix(d,e.count)),k&&m&&i.push(h+g),m&&i.push(h+=""+f.options.contextSeparator+e.context),k&&i.push(h+=g);for(var a=void 0;a=i.pop();)f.isValidLookup(b)||(b=f.getResource(d,c,a,e))}})})}}),{res:b,usedKey:d}},b.prototype.isValidLookup=function(a){return void 0!==a&&(this.options.returnNull||null!==a)&&(this.options.returnEmptyString||""!==a)},b.prototype.getResource=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(a,b,c,d)},b}(n),C=function(){function a(b){d(this,a),this.options=b,this.whitelist=this.options.whitelist||!1,this.logger=v.create("languageUtils")}return a.prototype.getScriptPartFromCode=function(a){if(!a||0>a.indexOf("-"))return null;var b=a.split("-");return 2===b.length?null:(b.pop(),this.formatLanguageCode(b.join("-")))},a.prototype.getLanguagePartFromCode=function(a){if(!a||0>a.indexOf("-"))return a;var b=a.split("-");return this.formatLanguageCode(b[0])},a.prototype.formatLanguageCode=function(a){if("string"==typeof a&&-1<a.indexOf("-")){var b=["hans","hant","latn","cyrl","cans","mong","arab"],c=a.split("-");return this.options.lowerCaseLng?c=c.map(function(a){return a.toLowerCase()}):2===c.length?(c[0]=c[0].toLowerCase(),c[1]=c[1].toUpperCase(),-1<b.indexOf(c[1].toLowerCase())&&(c[1]=r(c[1].toLowerCase()))):3===c.length&&(c[0]=c[0].toLowerCase(),2===c[1].length&&(c[1]=c[1].toUpperCase()),"sgn"!==c[0]&&2===c[2].length&&(c[2]=c[2].toUpperCase()),-1<b.indexOf(c[1].toLowerCase())&&(c[1]=r(c[1].toLowerCase())),-1<b.indexOf(c[2].toLowerCase())&&(c[2]=r(c[2].toLowerCase()))),c.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a},a.prototype.isWhitelisted=function(a){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(a=this.getLanguagePartFromCode(a)),!this.whitelist||!this.whitelist.length||-1<this.whitelist.indexOf(a)},a.prototype.getFallbackCodes=function(a,b){if(!a)return[];if("string"==typeof a&&(a=[a]),"[object Array]"===Object.prototype.toString.apply(a))return a;if(!b)return a.default||[];var c=a[b];return c||(c=a[this.getScriptPartFromCode(b)]),c||(c=a[this.formatLanguageCode(b)]),c||(c=a.default),c||[]},a.prototype.toResolveHierarchy=function(a,b){var c=this,d=this.getFallbackCodes(b||this.options.fallbackLng||[],a),e=[],f=function(a){a&&(c.isWhitelisted(a)?e.push(a):c.logger.warn("rejecting non-whitelisted language code: "+a))};return"string"==typeof a&&-1<a.indexOf("-")?("languageOnly"!==this.options.load&&f(this.formatLanguageCode(a)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&f(this.getScriptPartFromCode(a)),"currentOnly"!==this.options.load&&f(this.getLanguagePartFromCode(a))):"string"==typeof a&&f(this.formatLanguageCode(a)),d.forEach(function(a){0>e.indexOf(a)&&f(c.formatLanguageCode(a))}),e},a}(),E=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],K={1:function(a){return+(1<a)},2:function(a){return+(1!=a)},3:function(){return 0},4:function(a){return+(1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)},5:function(a){return+(0===a?0:1==a?1:2==a?2:3<=a%100&&10>=a%100?3:11<=a%100?4:5)},6:function(a){return+(1==a?0:2<=a&&4>=a?1:2)},7:function(a){return+(1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2)},8:function(a){return+(1==a?0:2==a?1:8!=a&&11!=a?2:3)},9:function(a){return+(2<=a)},10:function(a){return+(1==a?0:2==a?1:7>a?2:11>a?3:4)},11:function(a){return+(1==a||11==a?0:2==a||12==a?1:2<a&&20>a?2:3)},12:function(a){return+(1!=a%10||11==a%100)},13:function(a){return+(0!==a)},14:function(a){return+(1==a?0:2==a?1:3==a?2:3)},15:function(a){return+(1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2)},16:function(a){return+(1==a%10&&11!=a%100?0:0===a?2:1)},17:function(a){return+(1==a||1==a%10?0:1)},18:function(a){return+(0==a?0:1==a?1:2)},19:function(a){return+(1==a?0:0===a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3)},20:function(a){return+(1==a?0:0===a||0<a%100&&20>a%100?1:2)},21:function(a){return+(1==a%100?1:2==a%100?2:3==a%100||4==a%100?3:0)}},A=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d(this,a),this.languageUtils=b,this.options=c,this.logger=v.create("pluralResolver"),this.rules=l()}return a.prototype.addRule=function(a,b){this.rules[a]=b},a.prototype.getRule=function(a){return this.rules[a]||this.rules[this.languageUtils.getLanguagePartFromCode(a)]},a.prototype.needsPlural=function(a){var b=this.getRule(a);return b&&1<b.numbers.length},a.prototype.getPluralFormsOfKey=function(a,b){var c=this,d=[],e=this.getRule(a);return e.numbers.forEach(function(e){var f=c.getSuffix(a,e);d.push(""+b+f)}),d},a.prototype.getSuffix=function(a,b){var c=this,d=this.getRule(a);if(d){var e=d.noAbs?d.plurals(b):d.plurals(Math.abs(b)),f=d.numbers[e];this.options.simplifyPluralSuffix&&2===d.numbers.length&&1===d.numbers[0]&&(2===f?f="plural":1===f&&(f=""));var g=function(){return c.options.prepend&&f.toString()?c.options.prepend+f.toString():f.toString()};return"v1"===this.options.compatibilityJSON?1===f?"":"number"==typeof f?"_plural_"+f.toString():g():"v2"===this.options.compatibilityJSON||2===d.numbers.length&&1===d.numbers[0]?g():2===d.numbers.length&&1===d.numbers[0]?g():this.options.prepend&&e.toString()?this.options.prepend+e.toString():e.toString()}return this.logger.warn("no plural rule found for: "+a),""},a}(),L=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d(this,b),this.logger=v.create("interpolator"),this.init(a,!0)}return b.prototype.init=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1];c&&(this.options=b,this.format=b.interpolation&&b.interpolation.format||function(a){return a},this.escape=b.interpolation&&b.interpolation.escape||a),b.interpolation||(b.interpolation={escapeValue:!0});var d=b.interpolation;this.escapeValue=void 0===d.escapeValue||d.escapeValue,this.prefix=d.prefix?o(d.prefix):d.prefixEscaped||"{{",this.suffix=d.suffix?o(d.suffix):d.suffixEscaped||"}}",this.formatSeparator=d.formatSeparator?d.formatSeparator:d.formatSeparator||",",this.unescapePrefix=d.unescapeSuffix?"":d.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":d.unescapeSuffix||"",this.nestingPrefix=d.nestingPrefix?o(d.nestingPrefix):d.nestingPrefixEscaped||o("$t("),this.nestingSuffix=d.nestingSuffix?o(d.nestingSuffix):d.nestingSuffixEscaped||o(")"),this.maxReplaces=d.maxReplaces?d.maxReplaces:1e3,this.resetRegExp()},b.prototype.reset=function(){this.options&&this.init(this.options)},b.prototype.resetRegExp=function(){var a=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(a,"g");var b=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(b,"g");var c=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(c,"g")},b.prototype.interpolate=function(b,d,f){function e(a){return a.replace(/\$/g,"$$$$")}var g,a,h,i=this,j=function(b){if(0>b.indexOf(i.formatSeparator))return I(d,b);var c=b.split(i.formatSeparator),e=c.shift().trim(),g=c.join(i.formatSeparator).trim();return i.format(I(d,e),g,f)};for(this.resetRegExp(),h=0;(g=this.regexpUnescape.exec(b))&&(a=j(g[1].trim()),b=b.replace(g[0],a),this.regexpUnescape.lastIndex=0,h++,!(h>=this.maxReplaces)););for(h=0;(g=this.regexp.exec(b))&&(a=j(g[1].trim()),"string"!=typeof a&&(a=q(a)),a||(this.logger.warn("missed to pass in variable "+g[1]+" for interpolating "+b),a=""),a=e(this.escapeValue?this.escape(a):a),b=b.replace(g[0],a),this.regexp.lastIndex=0,h++,!(h>=this.maxReplaces)););return b},b.prototype.nest=function(b,c){function d(a,b){if(0>a.indexOf(","))return a;var c=a.split(",");a=c.shift();var d=c.join(",");d=this.interpolate(d,i),d=d.replace(/'/g,"\"");try{i=JSON.parse(d),b&&(i=h({},b,i))}catch(b){this.logger.error("failed parsing options string in nesting for key "+a,b)}return a}var e,f,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=h({},g);for(i.applyPostProcessor=!1;e=this.nestingRegexp.exec(b);){if(f=c(d.call(this,e[1].trim(),i),i),f&&e[0]===b&&"string"!=typeof f)return f;"string"!=typeof f&&(f=q(f)),f||(this.logger.warn("missed to resolve "+e[1]+" for nesting "+b),f=""),b=b.replace(e[0],f),this.regexp.lastIndex=0}return b},b}(),M=function(a){function f(b,c,e){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};d(this,f);var h=m(this,a.call(this));return h.backend=b,h.store=c,h.languageUtils=e.languageUtils,h.options=g,h.logger=v.create("backendConnector"),h.state={},h.queue=[],h.backend&&h.backend.init&&h.backend.init(e,g.backend,g),h}return s(f,a),f.prototype.queueLoad=function(b,c,d){var f=this,g=[],h=[],e=[],j=[];return b.forEach(function(a){var b=!0;c.forEach(function(c){var d=a+"|"+c;f.store.hasResourceBundle(a,c)?f.state[d]=2:0>f.state[d]||(1===f.state[d]?0>h.indexOf(d)&&h.push(d):(f.state[d]=1,b=!1,0>h.indexOf(d)&&h.push(d),0>g.indexOf(d)&&g.push(d),0>j.indexOf(c)&&j.push(c)))}),b||e.push(a)}),(g.length||h.length)&&this.queue.push({pending:h,loaded:{},errors:[],callback:d}),{toLoad:g,pending:h,toLoadLanguages:e,toLoadNamespaces:j}},f.prototype.loaded=function(d,f,e){var g=this,h=d.split("|"),i=b(h,2),j=i[0],a=i[1];f&&this.emit("failedLoading",j,a,f),e&&this.store.addResourceBundle(j,a,e),this.state[d]=f?-1:2,this.queue.forEach(function(b){G(b.loaded,[j],a),c(b.pending,d),f&&b.errors.push(f),0!==b.pending.length||b.done||(g.emit("loaded",b.loaded),b.done=!0,b.errors.length?b.callback(b.errors):b.callback())}),this.queue=this.queue.filter(function(a){return!a.done})},f.prototype.read=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,e=this,f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:250,g=arguments[5];return a.length?this.backend[c](a,b,function(h,i){return h&&i&&5>d?void setTimeout(function(){e.read.call(e,a,b,c,d+1,2*f,g)},f):void g(h,i)}):g(null,{})},f.prototype.load=function(a,c,d){var f=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();var g=h({},this.backend.options,this.options.backend);"string"==typeof a&&(a=this.languageUtils.toResolveHierarchy(a)),"string"==typeof c&&(c=[c]);var i=this.queueLoad(a,c,d);return i.toLoad.length?void(g.allowMultiLoading&&this.backend.readMulti?this.read(i.toLoadLanguages,i.toLoadNamespaces,"readMulti",null,null,function(d,g){d&&f.logger.warn("loading namespaces "+i.toLoadNamespaces.join(", ")+" for languages "+i.toLoadLanguages.join(", ")+" via multiloading failed",d),!d&&g&&f.logger.log("successfully loaded namespaces "+i.toLoadNamespaces.join(", ")+" for languages "+i.toLoadLanguages.join(", ")+" via multiloading",g),i.toLoad.forEach(function(e){var h=e.split("|"),i=b(h,2),j=i[0],a=i[1],k=I(g,[j,a]);if(k)f.loaded(e,d,k);else{var l="loading namespace "+a+" for language "+j+" via multiloading failed";f.loaded(e,l),f.logger.error(l)}})}):i.toLoad.forEach(function(a){f.loadOne(a)})):(i.pending.length||d(),null)},f.prototype.reload=function(a,b){var c=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var d=h({},this.backend.options,this.options.backend);"string"==typeof a&&(a=this.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]),d.allowMultiLoading&&this.backend.readMulti?this.read(a,b,"readMulti",null,null,function(d,f){d&&c.logger.warn("reloading namespaces "+b.join(", ")+" for languages "+a.join(", ")+" via multiloading failed",d),!d&&f&&c.logger.log("successfully reloaded namespaces "+b.join(", ")+" for languages "+a.join(", ")+" via multiloading",f),a.forEach(function(g){b.forEach(function(b){var e=I(f,[g,b]);if(e)c.loaded(g+"|"+b,d,e);else{var h="reloading namespace "+b+" for language "+g+" via multiloading failed";c.loaded(g+"|"+b,h),c.logger.error(h)}})})}):a.forEach(function(a){b.forEach(function(b){c.loadOne(a+"|"+b,"re")})})},f.prototype.loadOne=function(a){var c=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=a.split("|"),f=b(e,2),g=f[0],h=f[1];this.read(g,h,"read",null,null,function(b,e){b&&c.logger.warn(d+"loading namespace "+h+" for language "+g+" failed",b),!b&&e&&c.logger.log(d+"loaded namespace "+h+" for language "+g,e),c.loaded(a,b,e)})},f.prototype.saveMissing=function(a,b,c,d,e){this.backend&&this.backend.create&&this.backend.create(a,b,c,d,null,{isUpdate:e}),a&&a[0]&&this.store.addResource(a[0],b,c,d)},f}(n),N=function(a){function b(c,e,f){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};d(this,b);var h=m(this,a.call(this));return h.cache=c,h.store=e,h.services=f,h.options=g,h.logger=v.create("cacheConnector"),h.cache&&h.cache.init&&h.cache.init(f,g.cache,g),h}return s(b,a),b.prototype.load=function(a,b,c){var d=this;if(!this.cache)return c&&c();var e=h({},this.cache.options,this.options.cache),f="string"==typeof a?this.services.languageUtils.toResolveHierarchy(a):a;e.enabled?this.cache.load(f,function(b,g){if(b&&d.logger.error("loading languages "+f.join(", ")+" from cache failed",b),g)for(var e in g)if(Object.prototype.hasOwnProperty.call(g,e))for(var h in g[e])if(Object.prototype.hasOwnProperty.call(g[e],h)&&"i18nStamp"!==h){var i=g[e][h];i&&d.store.addResourceBundle(e,h,i)}c&&c()}):c&&c()},b.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},b}(n),t=function(a){function b(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];d(this,b);var g=m(this,a.call(this));if(g.options=f(c),g.services={},g.logger=v,g.modules={external:[]},e&&!g.isInitialized&&!c.isClone){var h;if(!g.options.initImmediate)return h=g.init(c,e),m(g,h);setTimeout(function(){g.init(c,e)},0)}return g}return s(b,a),b.prototype.init=function(){function b(a){return a?"function"==typeof a?new a:a:null}var c=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if("function"==typeof d&&(e=d,d={}),this.options=h({},p(),this.options,f(d)),this.format=this.options.interpolation.format,e||(e=g),!this.options.isClone){this.modules.logger?v.init(b(this.modules.logger),this.options):v.init(null,this.options);var j=new C(this.options);this.store=new x(this.options.resources,this.options);var k=this.services;k.logger=v,k.resourceStore=this.store,k.resourceStore.on("added removed",function(){k.cacheConnector.save()}),k.languageUtils=j,k.pluralResolver=new A(j,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),k.interpolator=new L(this.options),k.backendConnector=new M(b(this.modules.backend),k.resourceStore,k,this.options),k.backendConnector.on("*",function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];c.emit.apply(c,[a].concat(d))}),k.backendConnector.on("loaded",function(){k.cacheConnector.save()}),k.cacheConnector=new N(b(this.modules.cache),k.resourceStore,k,this.options),k.cacheConnector.on("*",function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];c.emit.apply(c,[a].concat(d))}),this.modules.languageDetector&&(k.languageDetector=b(this.modules.languageDetector),k.languageDetector.init(k,this.options.detection,this.options)),this.translator=new y(this.services,this.options),this.translator.on("*",function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];c.emit.apply(c,[a].concat(d))}),this.modules.external.forEach(function(a){a.init&&a.init(c)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(a){c[a]=function(){var b;return(b=c.store)[a].apply(b,arguments)}});var i=function(){c.changeLanguage(c.options.lng,function(a,b){c.isInitialized=!0,c.logger.log("initialized",c.options),c.emit("initialized",c.options),e(a,b)})};return this.options.resources||!this.options.initImmediate?i():setTimeout(i,0),this},b.prototype.loadResources=function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g;if(this.options.resources)b(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return b();var c=[],d=function(b){if(b){var d=a.services.languageUtils.toResolveHierarchy(b);d.forEach(function(a){0>c.indexOf(a)&&c.push(a)})}};if(this.language)d(this.language);else{var e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.forEach(function(a){return d(a)})}this.options.preload&&this.options.preload.forEach(function(a){return d(a)}),this.services.cacheConnector.load(c,this.options.ns,function(){a.services.backendConnector.load(c,a.options.ns,b)})}},b.prototype.reloadResources=function(a,b){a||(a=this.languages),b||(b=this.options.ns),this.services.backendConnector.reload(a,b)},b.prototype.use=function(a){return"backend"===a.type&&(this.modules.backend=a),"cache"===a.type&&(this.modules.cache=a),("logger"===a.type||a.log&&a.warn&&a.error)&&(this.modules.logger=a),"languageDetector"===a.type&&(this.modules.languageDetector=a),"postProcessor"===a.type&&j.addPostProcessor(a),"3rdParty"===a.type&&this.modules.external.push(a),this},b.prototype.changeLanguage=function(a,b){var c=this,d=function(a,d){c.translator.changeLanguage(d),d&&(c.emit("languageChanged",d),c.logger.log("languageChanged",d)),b&&b(a,function(){return c.t.apply(c,arguments)})},e=function(a){a&&(c.language=a,c.languages=c.services.languageUtils.toResolveHierarchy(a),c.translator.language||c.translator.changeLanguage(a),c.services.languageDetector&&c.services.languageDetector.cacheUserLanguage(a)),c.loadResources(function(b){d(b,a)})};a||!this.services.languageDetector||this.services.languageDetector.async?!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(a):e(this.services.languageDetector.detect())},b.prototype.getFixedT=function(a,b){var c=this,d=function b(d,e){for(var f=arguments.length,g=Array(2<f?f-2:0),i=2;i<f;i++)g[i-2]=arguments[i];var j=h({},e);return"object"!==("undefined"==typeof e?"undefined":J(e))&&(j=c.options.overloadTranslationOptionHandler([d,e].concat(g))),j.lng=j.lng||b.lng,j.lngs=j.lngs||b.lngs,j.ns=j.ns||b.ns,c.t(d,j)};return"string"==typeof a?d.lng=a:d.lngs=a,d.ns=b,d},b.prototype.t=function(){var a;return this.translator&&(a=this.translator).translate.apply(a,arguments)},b.prototype.exists=function(){var a;return this.translator&&(a=this.translator).exists.apply(a,arguments)},b.prototype.setDefaultNamespace=function(a){this.options.defaultNS=a},b.prototype.loadNamespaces=function(a,b){var c=this;return this.options.ns?("string"==typeof a&&(a=[a]),a.forEach(function(a){0>c.options.ns.indexOf(a)&&c.options.ns.push(a)}),void this.loadResources(b)):b&&b()},b.prototype.loadLanguages=function(a,b){"string"==typeof a&&(a=[a]);var c=this.options.preload||[],d=a.filter(function(a){return 0>c.indexOf(a)});return d.length?(this.options.preload=c.concat(d),void this.loadResources(b)):b()},b.prototype.dir=function(a){if(a||(a=this.languages&&0<this.languages.length?this.languages[0]:this.language),!a)return"rtl";return 0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(a))?"rtl":"ltr"},b.prototype.createInstance=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1];return new b(a,c)},b.prototype.cloneInstance=function(){var a=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g,e=h({},this.options,c,{isClone:!0}),f=new b(e);return["store","services","language"].forEach(function(b){f[b]=a[b]}),f.translator=new y(f.services,f.options),f.translator.on("*",function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];f.emit.apply(f,[a].concat(c))}),f.init(e,d),f.translator.options=f.options,f},b}(n),F=new t;return F});