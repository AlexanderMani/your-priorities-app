<link rel="import" href="../../bower_components/polymer/polymer.html">

<script>
  /**
   * @polymerBehavior YpPostBehavior
   */
  Polymer.YpPostBehavior = {

    properties: {
      post: {
        type: Object,
        notify: true
      },

      endorseMode: {
        type: String
      },

      image: {
        type: Boolean,
        value: true
      },

      elevation: {
        type: Number,
        value: 1
      }
    },

    postName: function (post) {
      if (post && post.name) {
        return this.truncate(this.trim(post.name), 60);
      } else if (post) {
        return post.short_name;
      } else {
        return "";
      }
    },

    postDescription: function (post) {
      if (post && post.description) {
        return this.truncate(this.trim(post.description), 500, '...');
      } else if (post && post.Points && post.Points[0]) {
        return  this.truncate(this.trim(post.Points[0].content), 500, '...');
      } else {
        return '';
      }
    },

    getCategoryImagePath: function (post) {
      if (post.Category) {
        return 'https://s3.amazonaws.com/' + this.s3bucketName('') + '/categories/icons/000/000/' + this.padNumber(post.Category.id) + '/icon_100/' + post.Category.icon_file_name;
      } else {
        return "";
      }
    }
  }
</script>
