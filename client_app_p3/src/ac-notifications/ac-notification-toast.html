<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/paper-toast/paper-toast.html">

<link rel="import" href="../yp-app-globals/yp-app-icons.html">
<link rel="import" href="../yp-user/yp-user-with-organization.html">

<dom-module id="ac-notification-toast">
  <template>
    <style include="iron-flex iron-flex-alignment">
      .text {
        margin: 16px;
      }

      [hidden] {
        display: none !important;
      }
    </style>

    <paper-toast id="toast" duration="5000">
      <div class="layout vertical">
        <yp-user-with-organization class="layout horizontal self-end" user="[[user]]" hidden$="[[!user]]"></yp-user-with-organization>
        <div class="text">[[notificationText]]</div>
      </div>
    </paper-toast>
  </template>

  <script>
    Polymer({

      is: 'ac-notification-toast',

      properties: {
        user: {
          type: Object,
          value: null
        },

        notificationText: {
          type: String,
          value: null
        }
      },

      open: function (user, notificationText, systemNotification) {
        this.set('notificationText', notificationText);
        if (!systemNotification) {
          this.set('user', user);
        }
        this.$.toast.close();
        this.async(function () {
          this.$.toast.open();
        });
      }
    });
  </script>
</dom-module>
